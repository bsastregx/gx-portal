let closestSector;const pageLang=document.documentElement.lang;let cardsPerLoad,typePlural,typeSingular,filterHeaderEl,rowMain,headerTitle,headerTitleLabels,textFilterLabelEl,textFilterEl,burgerButton,topLine,bottomLine,rowSelectsOuterWrapper,rowSelectsInnerWrapper,rowSelectsEl,viewResultsButtonEl,rowActionsEl,rowActionsLeftColEl,rowActionsLeftColInnerWrapperEl,rowActionsElRightColEl,clearButtonEl,clearInputSuggestionEl,rowInfoEl,articlesListEl,articlesFooterEl,showMoreButtonEl,footerMessagesSlotEl,footerMessagesIllustrationEl,footerMessagesTitleEl,footerMessagesDescriptionEl,numberPlaceholderEl,fixedOverlay,allArticles=[],allArticlesUniqueCats=[],catsMap=[],currentSelectedCategories=[],filteredArticles=[],membershipCategories=[],multiCheckboxes=[];var userAgent=navigator.userAgent;let footerMessages,visibleCards=0,textFilterBackspaceCounter=0,isMobile=!1;const timeBeforeCloseSelect=400,smallUiTransition=250,selectHeightTransition=150;let labelMouseLeaveHandler,multiCheckboxMouseLeaveHandler,multiCheckboxMouseEnterHandler,timeOutHideSelectRef;const timeOutHideSelect=(e,t=!1)=>{e.classList.remove("gx-multi-checkbox--opened"),displayScrollbar();const l=e.previousElementSibling;isMobile||(e.removeEventListener("mouseleave",multiCheckboxMouseLeaveHandler),e.removeEventListener("enter",multiCheckboxMouseEnterHandler),t&&setTimeout((()=>{l.blur()}),150)),l.classList.contains("gx-label--multi-checkbox")&&l.classList.remove("gx-label--multi-checkbox--active"),disableCheckboxes(e);const r=e.parentElement;if(r){const e=r.querySelector("button");e&&e.focus()}horizontalScroll(!0)},body=document.querySelector("body"),html=document.querySelector("html");html.style.setProperty("--gx-small-transition","250ms"),html.style.setProperty("--gx-select-transition-height-speed","150ms"),html.style.setProperty("--gx-desktop-lg-width",`${gxFilterData.conf.desktopLgWidth}px`);const renderHeader=()=>{filterHeaderEl=document.createElement("header"),filterHeaderEl.classList.add("header-filter"),filterHeaderEl.setAttribute("id","header-filter"),headerTitleWrapperEl=document.createElement("div"),headerTitleWrapperEl.classList.add("header-filter__title-wrapper"),burgerButton='\n  <button type="button" class="burger" id="burger" onclick="burgerHandler(this)">\n    <span class="burger-line"></span>\n    <span class="burger-line"></span>\n    <span class="burger-line"></span>\n    <span class="burger-line"></span>\n  </button>\n  ',headerTitleLabels={en:`Find a ${typeSingular}`,es:`Encontrar un ${typeSingular}:`,pt:`Encontrar um ${typeSingular}:`},headerTitle=document.createElement("h2"),headerTitle.classList.add("header-filter__title"),headerTitle.innerText=headerTitleLabels[pageLang],textFilterLabelEl=document.createElement("label"),textFilterLabelEl.classList.add("gx-label","gx-label--filter"),textFilterWrapper=document.createElement("div"),textFilterWrapper.classList.add("gx-input--filter-wrapper");let e="ctrl";userAgent.match(/Mac/i)&&(e="cmd");const t={en:`${e} + backspace`,es:`${e} + retroceso`,pt:`${e} + retrocesso`};clearInputSuggestionEl=document.createElement("span"),clearInputSuggestionEl.classList.add("gx-clear-suggestion","gx-clear-suggestion--hidden"),clearInputSuggestionEl.innerText=t[pageLang];const l={en:`Search by ${typeSingular} name`,es:`Buscar por nombre de ${typeSingular}`,pt:`Buscar por nome do ${typeSingular}`};if(textFilterEl=document.createElement("input"),textFilterEl.setAttribute("type","text"),textFilterEl.setAttribute("placeholder",l[pageLang]),textFilterEl.classList.add("gx-input","gx-input--filter"),textFilterEl.addEventListener("input",filterInputHandler),textFilterEl.addEventListener("keydown",filterKeyDownHandler),textFilterEl.addEventListener("keyup",filterKeyUpHandler),isMobile&&(topLine=document.createElement("hr"),topLine.classList.add("header-top-line","opacity-0"),bottomLine=document.createElement("hr"),bottomLine.classList.add("header-bottom-line","opacity-0")),rowMain=document.createElement("div"),rowMain.classList.add("row","row--main"),rowSelectsEl=document.createElement("div"),rowSelectsEl.classList.add("row","row--selects"),rowSelectsEl.setAttribute("id","header-filters"),rowSelectsOuterWrapper=document.createElement("div"),rowSelectsOuterWrapper.classList.add("row--selects-outer-wrapper"),rowSelectsInnerWrapper=document.createElement("div"),rowSelectsInnerWrapper.classList.add("row--selects-inner-wrapper"),rowActionsEl=document.createElement("div"),rowActionsEl.classList.add("row","row--actions"),rowActionsEl.setAttribute("id","header-actions"),rowActionsLeftColEl=document.createElement("div"),rowActionsLeftColEl.classList.add("row","row--actions__left-col"),rowActionsLeftColInnerWrapperEl=document.createElement("div"),rowActionsLeftColInnerWrapperEl.classList.add("row--actions__left-col-inner-wrapper"),rowActionsElRightColEl=document.createElement("div"),rowActionsElRightColEl.classList.add("row","row--actions__right-col"),rowInfoEl=document.createElement("div"),rowInfoEl.classList.add("row","row--info"),rowInfoEl.setAttribute("id","header-info"),hideElement(rowInfoEl),isMobile){fixedOverlay=document.createElement("div"),fixedOverlay.classList.add("fixed-overlay"),fixedOverlay.addEventListener("wheel",(function(e){return e.preventDefault(),e.stopPropagation(),!1}),{passive:!1})}headerTitle&&headerTitleWrapperEl&&(isMobile&&(headerTitleWrapperEl.innerHTML=burgerButton),headerTitleWrapperEl.appendChild(headerTitle),rowMain.appendChild(headerTitleWrapperEl),isMobile&&rowMain.appendChild(topLine)),textFilterLabelEl.appendChild(textFilterWrapper),isMobile||textFilterWrapper.appendChild(clearInputSuggestionEl),textFilterWrapper.appendChild(textFilterEl),isMobile&&(rowSelectsOuterWrapper.classList.add("row--selects-outer-wrapper--hidden"),rowMain.appendChild(rowSelectsOuterWrapper)),rowMain.appendChild(textFilterLabelEl),filterHeaderEl.appendChild(rowMain),rowSelectsInnerWrapper.appendChild(rowSelectsEl),rowSelectsOuterWrapper.appendChild(rowSelectsInnerWrapper),isMobile||filterHeaderEl.appendChild(rowSelectsOuterWrapper),rowActionsLeftColInnerWrapperEl.appendChild(rowActionsLeftColEl),rowActionsEl.appendChild(rowActionsLeftColInnerWrapperEl),rowActionsEl.appendChild(rowActionsElRightColEl),filterHeaderEl.appendChild(rowActionsEl),filterHeaderEl.appendChild(rowInfoEl),isMobile&&filterHeaderEl.appendChild(fixedOverlay),articlesListEl.parentElement.insertBefore(filterHeaderEl,articlesListEl),burgerButton=document.getElementById("burger")},renderCategories=()=>{gxFilterData.cats.forEach((e=>{const t=e.type,l=e.label[pageLang],r=e.cats;if(t&&l&&r.length){const l=document.createElement("div");l.classList.add("gx-multi-checkbox-container");const s=document.createElement("button");s.classList.add("gx-label","gx-label--multi-checkbox"),s.setAttribute("for",t),s.addEventListener("click",multiCheckboxLabelClickHandler),s.addEventListener("keydown",multiCheckboxLabelKeyDownHandler),s.innerText=e.label[pageLang];const o=document.createElement("div");o.classList.add("gx-multi-checkbox"),r.forEach((e=>{const l=e.value;"category"===t&&membershipCategories.push({id:l,label:e.label[pageLang]});let r=!0;if(gxFilterData.conf.hideEmptyCats&&(catFoundIndex=allArticlesUniqueCats.findIndex((e=>e===l)),-1!==catFoundIndex?allArticlesUniqueCats.splice(catFoundIndex,1):r=!1),r){const t=document.createElement("input");t.setAttribute("type","checkbox"),t.setAttribute("id",l),disableElement(t),t.addEventListener("keydown",checkboxKeyDownHandler),t.addEventListener("click",(e=>{e.stopPropagation()}));const r=e.label[pageLang],s=document.createElement("label");s.setAttribute("for",l),s.addEventListener("click",inputCheckboxLabelClickHandler);const a=document.createElement("span");a.classList.add("span-animation");const n=document.createElement("span");n.classList.add("gx-label","gx-label--description"),n.innerText=r,o.appendChild(t),s.appendChild(a),s.appendChild(n),o.appendChild(s)}})),multiCheckboxes.push(o),l.appendChild(s),l.appendChild(o),rowSelectsEl.appendChild(l)}}))},renderShowingPartners=()=>{if(rowInfoEl){const e={en:"Showing ",es:"Mostrando ",pt:"Mostrando "},t={en:` of ${allArticles.length} total partners`,es:` de ${allArticles.length} socios totales`,pt:` de ${allArticles.length} parceiros totais`},l=document.createElement("p"),r=document.createElement("span");r.innerText=e[pageLang],numberPlaceholderEl=document.createElement("span"),numberPlaceholderEl.setAttribute("id","showing-number"),numberPlaceholderEl.innerText="0";const s=document.createElement("span");s.innerText=t[pageLang],l.appendChild(r),l.appendChild(numberPlaceholderEl),l.appendChild(s),rowInfoEl.appendChild(l)}},renderClearButton=()=>{if(rowActionsElRightColEl){const e={en:"clear filter",es:"borrar filtro",pt:"limpar filtro"};clearButtonEl=document.createElement("button"),clearButtonEl.classList.add("gx-button","gx-button--clear","gx-button--link","gx-button--sm"),clearButtonEl.innerText=e[pageLang],clearButtonEl.addEventListener("click",clearHandler),hideElement(clearButtonEl),isMobile&&rowSelectsInnerWrapper?rowSelectsInnerWrapper.appendChild(clearButtonEl):rowActionsElRightColEl.appendChild(clearButtonEl)}},renderViewResultsButton=()=>{if(isMobile&&rowSelectsInnerWrapper){const e={en:"view result",es:"ver resultado",pt:"ver resultado"};viewResultsButtonEl=document.createElement("button"),viewResultsButtonEl.classList.add("gx-button","gx-button--primary","gx-button--full-width"),isMobile&&hideElement(viewResultsButtonEl,!0),gxFilterData.conf.hideEmptyCats||disableElement(viewResultsButtonEl),viewResultsButtonEl.innerText=e[pageLang],isMobile?viewResultsButtonEl.addEventListener("click",viewResultsButtonHandler):viewResultsButtonEl.addEventListener("click",burgerHandler),rowSelectsInnerWrapper.appendChild(viewResultsButtonEl)}},renderFooter=()=>{articlesListEl&&(articlesFooterEl=document.createElement("footer"),articlesFooterEl.classList.add("articles-footer"),articlesListEl.after(articlesFooterEl))},renderShowMoreButton=()=>{if(articlesFooterEl){const e={en:"show more",es:"mostrar más",pt:"mostrar mais"};showMoreButtonEl=document.createElement("button"),showMoreButtonEl.classList.add("gx-button","gx-button--secondary","gx-button--show-more"),showMoreButtonEl.innerText=e[pageLang],showMoreButtonEl.addEventListener("click",showMoreHandler),articlesFooterEl.appendChild(showMoreButtonEl)}},footerMessagesSlot=()=>{articlesFooterEl&&(footerMessagesSlotEl=document.createElement("p"),footerMessagesSlotEl.classList.add("footer-messages"),footerMessagesIllustrationEl=document.createElement("img"),footerMessagesIllustrationEl.classList.add("footer-messages__illustration"),footerMessagesIllustrationEl.setAttribute("src",gxFilterData.conf.noResultsImgSrc),footerMessagesTitleEl=document.createElement("span"),footerMessagesTitleEl.classList.add("footer-messages__title"),footerMessagesDescriptionEl=document.createElement("span"),footerMessagesDescriptionEl.classList.add("footer-messages__description"),footerMessagesSlotEl.appendChild(footerMessagesIllustrationEl),footerMessagesSlotEl.appendChild(footerMessagesTitleEl),footerMessagesSlotEl.appendChild(footerMessagesDescriptionEl),articlesFooterEl.appendChild(footerMessagesSlotEl))},renderPills=()=>{rowActionsLeftColEl&&(rowActionsLeftColEl.innerHTML=""),currentSelectedCategories.length>0&&currentSelectedCategories.forEach((e=>{const t=catsMap.find((t=>t.id===e));if(t){const e=document.createElement("button");e.classList.add("gx-button-pill"),e.innerText=t.label,e.setAttribute("data-cat",t.id),e.addEventListener("click",pillClickedHandler),rowActionsLeftColEl.appendChild(e)}}))},getOpenedMultiCheckbox=()=>{if(rowSelectsEl)return Array.from(rowSelectsEl.querySelectorAll(".gx-multi-checkbox--opened"))},toggleViewResultButton=()=>{isMobile&&!gxFilterData.conf.hideEmptyCats&&(filteredArticles.length>0?enableElement(viewResultsButtonEl):disableElement(viewResultsButtonEl))},burgerHasFilters=()=>{burgerButton&&(currentSelectedCategories.length>0?burgerButton.classList.add("burger--has-filters"):burgerButton.classList.remove("burger--has-filters"))},horizontalScroll=e=>{e?rowSelectsInnerWrapper.addEventListener("wheel",horizontalScrollWheelHandler):rowSelectsInnerWrapper.removeEventListener("wheel",horizontalScrollWheelHandler)},horizontalScrollWheelHandler=e=>{e.preventDefault(),rowSelectsInnerWrapper.scrollLeft+=e.deltaY},getArticleCategory=e=>{cats=getArticleCats(e);let t=-1;for(let e=0;e<cats.length&&(t=membershipCategories.findIndex((t=>t.id===cats[e])),-1===t);e++);return-1!==t?membershipCategories[t].label:void 0},enableCheckboxes=e=>{const t=e.querySelectorAll("input[type='checkbox']");t.length&&t.forEach((e=>{enableElement(e)}))},disableCheckboxes=e=>{const t=e.querySelectorAll("input[type='checkbox']");t.length&&t.forEach((e=>{disableElement(e)}))},hideAllCards=()=>{allArticles.length&&allArticles.forEach((e=>{hideElement(e)}))},showAllCards=()=>{allArticles.length&&allArticles.forEach((e=>{showElement(e)}))},getChecked=e=>{const t=Array.from(e.querySelectorAll("input[type='checkbox']")),l=[];for(let e=0;e<t.length;e++)t[e].checked&&l.push(t[e].getAttribute("id"));return l},removeChecked=e=>{if(e&&rowSelectsEl){const t=rowSelectsEl.querySelector(`#${e}`);if(t){t.checked=!1;const l=currentSelectedCategories.findIndex((t=>e===t));-1!==l&&currentSelectedCategories.splice(l,1),filterHandler()}}0===currentSelectedCategories.length&&(hideElement(clearButtonEl),hideElement(rowInfoEl))},showMore=()=>{if(filteredArticles.length>0){let e=0;for(let t=0;t<filteredArticles.length&&(showElement(filteredArticles[t]),e++,visibleCards++,e!==cardsPerLoad);t++);for(let t=0;t<e;t++)filteredArticles.shift();0===filteredArticles.length?(hideElement(showMoreButtonEl),hideElement(footerMessagesIllustrationEl),footerMessagesTitleEl.innerText="",footerMessagesDescriptionEl.innerText=footerMessages.noMorePartners[pageLang]):(showElement(showMoreButtonEl),hideElement(footerMessagesIllustrationEl),footerMessagesTitleEl.innerText="",footerMessagesDescriptionEl.innerText="")}else hideElement(showMoreButtonEl),visibleCards=0,showElement(footerMessagesIllustrationEl),footerMessagesTitleEl.innerText=footerMessages.noMatchFoundTitle[pageLang],footerMessagesDescriptionEl.innerText=footerMessages.noMatchFoundDescription[pageLang],hideElement(rowInfoEl);updateShowingArticles()},scrollDown=()=>{setTimeout((()=>{articlesFooterEl.scrollIntoView({behavior:"smooth",block:"end"})}),150)},scrollDownMobile=e=>{setTimeout((()=>{document.querySelector("body");const t=window.scrollY;window.scrollTo({top:t+e.clientY-100,behavior:"smooth"})}),150)},disableElement=e=>{e.setAttribute("disabled","")},enableElement=e=>{e.removeAttribute("disabled")},hideElement=(e,t=!1)=>{t?e.classList.add("opacity-0"):e.setAttribute("hidden","")},showElement=(e,t=!1)=>{t?e.classList.remove("opacity-0"):e.removeAttribute("hidden")},isFilterReady=()=>(articlesListsArray=document.querySelectorAll("ul.articles"),articlesListEl=articlesListsArray[gxFilterData.conf.listIndex],articlesListEl&&(allArticles=Array.from(articlesListEl.querySelectorAll(":scope > li"))),gxFilterData.cats.length&&allArticles.length>0),getArticleCats=e=>{let t=[];if(e){const l=e.querySelectorAll(".category-item");return l.length>0&&l.forEach((e=>{catClasses=e.classList,catClasses.forEach((e=>{"category-item"!==e&&t.push(e)}))})),t}},filter=()=>{filteredArticles=[],currentSelectedCategories.length>0&&allArticles.length>0?allArticles.forEach((e=>{let t=!1;const l=getArticleCats(e);if(l.length>0)for(let e=0;e<l.length;e++){if(currentSelectedCategories.find((t=>t===l[e]))){t=!0;break}}t&&filteredArticles.push(e)})):filteredArticles=[...allArticles],currentSelectedCategories.length>1?clearButtonEl.classList.add("gx-button--clear--plural"):clearButtonEl.classList.remove("gx-button--clear--plural")},setSelectedCategories=()=>{let e=[];multiCheckboxes.length>0&&multiCheckboxes.forEach((t=>{e=[...e,...getChecked(t)]})),currentSelectedCategories=[...e]},clearFilters=()=>{multiCheckboxes.length>0&&multiCheckboxes.forEach((e=>{const t=Array.from(e.querySelectorAll("input[type='checkbox']:checked"));t.length>0&&t.forEach((e=>{e.checked=!1}))})),hideElement(footerMessagesIllustrationEl),footerMessagesTitleEl.innerText="",footerMessagesDescriptionEl.innerText=""},createCatsMapArray=()=>{catsMap=[];const e=gxFilterData.cats;e.length>0&&e.forEach((e=>{const t=e.cats;t.length>0&&t.forEach((e=>{catsMap.push({id:e.value,label:e.label[pageLang]})}))}))},displayScrollbar=()=>{setTimeout((()=>{rowSelectsInnerWrapper.classList.remove("hide-scrollbar")}),150)},powerUpCards=()=>{allArticles.forEach((e=>{const t=e.querySelectorAll("a");if(t.length>0){e.classList.add("article-container--actionable");const l=t[0].getAttribute("href");e.addEventListener("click",(()=>{window.open(l,"_blank")})),e.addEventListener("keydown",(t=>{"Enter"===t.code&&e.click()})),e.setAttribute("tabindex","0")}t.forEach((e=>{e.removeAttribute("href"),e.removeAttribute("target")}));const l=getArticleCategory(e);if(l){const t=e.querySelector("header"),r=document.createElement("span");r.classList.add("membership-label"),r.innerText=l,t&&t.appendChild(r)}renderCardCategories(e)}))},renderCardCategories=e=>{let t=[];getArticleCats(e).forEach((e=>{const l=catsMap.find((t=>t.id===e));l&&t.push(l.label)}));const l=document.createElement("p");l.classList.add("card-categories-list"),l.innerText=t.join(", ");e.querySelector(".title").insertAdjacentElement("afterend",l)};multiCheckboxMouseLeaveHandler=e=>{const t=e.target;timeOutHideSelectRef=setTimeout((function(){timeOutHideSelect(t)}),400)},multiCheckboxMouseEnterHandler=e=>{clearTimeout(timeOutHideSelectRef)},labelMouseLeaveHandler=e=>{const t=e.target,l=e.relatedTarget,r=t.nextElementSibling;l!==r&&timeOutHideSelect(r),isMobile||t.removeEventListener("mouseleave",labelMouseLeaveHandler)};const filtersLabels={en:"Filters:",es:"Filtros:",pt:"Filtros:"};let overlayIsFixed=!1;const burgerScrollIntoViewTransition=300;function burgerHandler(e){overlayIsFixed?(hideElement(viewResultsButtonEl,!0),hideElement(clearButtonEl,!0)):closestSector.scrollIntoView({behavior:"smooth"}),setTimeout((()=>{e.classList.toggle("active"),rowSelectsOuterWrapper.classList.toggle("row--selects-outer-wrapper--hidden"),topLine.classList.toggle("opacity-0"),bottomLine.classList.toggle("opacity-0"),toggleFixedOverlay(!overlayIsFixed)}),250)}const toggleFixedOverlay=e=>{e?setTimeout((()=>{body.classList.add("fixed"),hideElement(headerTitle,!0),setTimeout((()=>{headerTitle.innerText=filtersLabels[pageLang],showElement(headerTitle,!0),showElement(viewResultsButtonEl,!0),showElement(clearButtonEl,!0)}),250)}),250):(hideElement(headerTitle,!0),setTimeout((()=>{headerTitle.innerText=headerTitleLabels[pageLang],showElement(headerTitle,!0),body.classList.remove("fixed"),closestSector.scrollIntoView({behavior:"instant"})}),250)),overlayIsFixed=!overlayIsFixed},autoScrollMultiCheckboxContainer=e=>{if(e){const t=e.getBoundingClientRect(),l=t.left,r=t.right,s=rowSelectsInnerWrapper.getBoundingClientRect();rSIWLeft=s.left,rSIWRight=s.right,(l<rSIWLeft||r>rSIWRight)&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}};function inputCheckboxLabelClickHandler(e){e.stopPropagation(),e.preventDefault();this.focus();const t=this.previousElementSibling;checkboxChangedHandler(t)}document.addEventListener("click",(e=>{const t=rowSelectsEl.querySelector(".gx-multi-checkbox--opened");t&&timeOutHideSelect(t)}));const addMultiCheckboxListener=e=>{e.addEventListener("mouseleave",multiCheckboxMouseLeaveHandler),e.addEventListener("mouseenter",multiCheckboxMouseEnterHandler)},multiCheckboxLabelClickHandler=e=>{const t=e.target;e.stopPropagation(),isMobile&&deactivateButtonsLabels(t),rowSelectsInnerWrapper.classList.add("hide-scrollbar");const l=e.target;l.classList.toggle("gx-label--multi-checkbox--active"),isMobile||l.addEventListener("mouseleave",labelMouseLeaveHandler);const r=l.nextElementSibling;r.classList.toggle("gx-multi-checkbox--opened"),enableCheckboxes(r),closeOtherSelects(r),isMobile||addMultiCheckboxListener(r);const s=e.target.parentElement;autoScrollMultiCheckboxContainer(s),horizontalScroll(!1)},deactivateButtonsLabels=e=>{rowSelectsEl.querySelectorAll(".gx-label--multi-checkbox--active").forEach((t=>{t!==e&&t.classList.remove("gx-label--multi-checkbox--active")}))},multiCheckboxLabelKeyDownHandler=e=>{const t=e.target.classList.contains("gx-label--multi-checkbox--active"),l=e.target.parentElement,r=e.target.nextElementSibling;let s;if(r.classList.contains("gx-multi-checkbox")&&(s=r),"ArrowRight"===e.code||"ArrowLeft"===e.code||"Escape"===e.code){e.preventDefault();getOpenedMultiCheckbox().forEach((e=>{timeOutHideSelect(e)}))}if("ArrowDown"===e.code&&t&&s)e.preventDefault(),firstOption=s.firstElementChild,firstOption&&firstOption.focus();else if("ArrowDown"===e.code&&!t&&s)e.preventDefault(),e.target.click();else if("ArrowRight"===e.code){const e=l.nextElementSibling;if(e){e.querySelector("button").focus()}}else if("ArrowLeft"===e.code){const e=l.previousElementSibling;if(e){e.querySelector("button").focus()}}},closeOtherSelects=e=>{multiCheckboxes.forEach((t=>{e!==t&&t.classList.remove("gx-multi-checkbox--opened")}))},pillClickedHandler=e=>{e.stopPropagation();const t=e.target,l=e.target.getAttribute("data-cat");t.classList.add("gx-button-pill--hidden"),setTimeout((()=>{l&&(removeChecked(l),burgerHasFilters())}),250)},filterInputHandler=e=>{hideElement(showMoreButtonEl),currentSelectedCategories.length>0&&(clearFilters(),setSelectedCategories()),filteredArticles.length<allArticles.length&&(filteredArticles=[...allArticles]);const t=e.target.value.toLowerCase();filteredArticles.length>0&&(visibleCards=0,filteredArticles.forEach((e=>{const l=e.querySelector(".title").innerText.toLowerCase();l.includes(t)?(showElement(e),visibleCards++,l===t?e.classList.add("article-container--exact-match"):e.classList.remove("article-container--exact-match")):l.includes(t)||(hideElement(e),e.classList.remove("article-container--exact-match"))})),visibleCards>0&&t.length>0?(hideElement(footerMessagesIllustrationEl),footerMessagesTitleEl.innerText="",footerMessagesDescriptionEl.innerText="",showElement(rowInfoEl)):visibleCards>0&&0===t.length?(hideElement(footerMessagesIllustrationEl),footerMessagesTitleEl.innerText="",footerMessagesDescriptionEl.innerText="",clearHandler()):(showElement(footerMessagesIllustrationEl),footerMessagesTitleEl.innerText=footerMessages.noMatchFoundTitle[pageLang],footerMessagesDescriptionEl.innerText=footerMessages.noMatchFoundDescription[pageLang],hideElement(rowInfoEl))),updateShowingArticles()},filterKeyDownHandler=e=>{let t="ControlLeft"===e.code||"ControlRight"===e.code,l="MetaLeft"===e.code||"MetaRight"===e.code;"Backspace"===e.key&&e.ctrlKey||"Backspace"===e.key&&e.metaKey?clearInputSuggestionEl.remove():"Backspace"===e.key?textFilterBackspaceCounter++:t||l||(textFilterBackspaceCounter=0,clearInputSuggestionEl.classList.add("gx-clear-suggestion--hidden")),textFilterBackspaceCounter>=3&&0!==textFilterEl.value.length&&clearInputSuggestionEl&&clearInputSuggestionEl.classList.remove("gx-clear-suggestion--hidden")},filterKeyUpHandler=()=>{0===textFilterEl.value.length&&(textFilterBackspaceCounter=0,clearInputSuggestionEl.classList.add("gx-clear-suggestion--hidden"))},checkboxChangedHandler=e=>{let t=!0;e.checked&&(t=!1);const l=e.getAttribute("id");if(t)e.checked=!0,currentSelectedCategories.push(l);else{e.checked=!1;const t=currentSelectedCategories.findIndex((e=>l===e));-1!==t&&currentSelectedCategories.splice(t,1)}0===currentSelectedCategories.length?(hideElement(clearButtonEl),hideElement(rowInfoEl)):(showElement(clearButtonEl),showElement(rowInfoEl)),burgerHasFilters(),filterHandler()},checkboxKeyDownHandler=e=>{let t;const l=e.target.parentElement,r=l.previousElementSibling;if("ArrowDown"===e.code)e.preventDefault(),t=e.target.nextElementSibling,t&&(t=t.nextElementSibling);else if("ArrowUp"===e.code)e.preventDefault(),t=e.target.previousElementSibling,t&&(t=t.previousElementSibling);else if("Enter"===e.code){e.preventDefault();const t=e.target.nextElementSibling;t&&t.click()}else"Escape"===e.code&&(e.preventDefault(),timeOutHideSelect(l),r.focus());t?t.focus():t||"ArrowUp"!==e.code||(timeOutHideSelect(l),r.focus())},updateShowingArticles=()=>{const e=articlesListEl.querySelectorAll(":scope > *:not([hidden])");numberPlaceholderEl.innerText=e.length},clearHandler=async e=>{if(e){const t=e.target;hideElement(t)}clearFilters(),setSelectedCategories(),hideAllCards(),filter(),showMore(),updateShowingArticles(),renderPills(),hideElement(rowInfoEl)},viewResultsButtonHandler=()=>{isMobile&&burgerButton&&burgerButton.click()},filterHandler=()=>{textFilterEl.value="",hideAllCards(),filter(),isMobile&&!gxFilterData.conf.hideEmptyCats&&(filteredArticles.length>0?enableElement(viewResultsButtonEl):disableElement(viewResultsButtonEl)),showMore(),renderPills()},showMoreHandler=e=>{e.stopPropagation(),showMore(),isMobile?scrollDownMobile(e):setTimeout((()=>{articlesFooterEl.scrollIntoView({behavior:"smooth",block:"end"})}),150)};getAllArticleCats=()=>{if(gxFilterData.conf.hideEmptyCats&&allArticles.length>0){const e=articlesListEl.querySelectorAll(".category-item");e.length>0&&e.forEach((e=>{const t=Array.from(e.classList),l=t.findIndex((e=>"category-item"===e));if(-1!==l){t.splice(l,1);const e=t[0];void 0===allArticlesUniqueCats.find((t=>t===e))&&allArticlesUniqueCats.push(e)}}))}};const detectMobile=()=>{if(/Mobi/.test(navigator.userAgent)){isMobile=!0,body.classList.add("gx-mobile-device");const e=window.innerHeight;html.style.setProperty("--gx-mobile-inner-height",`${e}px`)}},defineFooterMessages=()=>{footerMessages={noMorePartners:{en:`No more ${typePlural} to display`,es:`No hay más ${typePlural} para mostrar`,pt:`Não há mais ${typePlural} para mostrar`},noMatchFoundTitle:{en:"Sorry, no results found.",es:"Lo siento, no se encontraron resultados.",pt:"Desculpe, não foram encontrados resultados."},noMatchFoundDescription:{en:`Try removing or change your filters to find ${typePlural}.`,es:`Intenta eliminar o cambiar tus filtros para encontrar ${typePlural}.`,pt:`Tente remover ou alterar seus filtros para encontrar ${typePlural}.`}}},tweakGxPortalPage=()=>{closestSector=filterHeaderEl.closest(".sector"),closestSector.setAttribute("id","closest-sector")},init=()=>{(articlesListsArray=document.querySelectorAll("ul.articles"),articlesListEl=articlesListsArray[gxFilterData.conf.listIndex],articlesListEl&&(allArticles=Array.from(articlesListEl.querySelectorAll(":scope > li"))),gxFilterData.cats.length&&allArticles.length>0)&&(getAllArticleCats(),cardsPerLoad=gxFilterData.conf.cardsPerLoad,typeSingular=gxFilterData.conf.typeSingular[pageLang],typePlural=gxFilterData.conf.typePlural[pageLang],detectMobile(),footerMessages={noMorePartners:{en:`No more ${typePlural} to display`,es:`No hay más ${typePlural} para mostrar`,pt:`Não há mais ${typePlural} para mostrar`},noMatchFoundTitle:{en:"Sorry, no results found.",es:"Lo siento, no se encontraron resultados.",pt:"Desculpe, não foram encontrados resultados."},noMatchFoundDescription:{en:`Try removing or change your filters to find ${typePlural}.`,es:`Intenta eliminar o cambiar tus filtros para encontrar ${typePlural}.`,pt:`Tente remover ou alterar seus filtros para encontrar ${typePlural}.`}},createCatsMapArray(),hideAllCards(),renderHeader(),horizontalScroll(!0),gxFilterData.cats.forEach((e=>{const t=e.type,l=e.label[pageLang],r=e.cats;if(t&&l&&r.length){const l=document.createElement("div");l.classList.add("gx-multi-checkbox-container");const s=document.createElement("button");s.classList.add("gx-label","gx-label--multi-checkbox"),s.setAttribute("for",t),s.addEventListener("click",multiCheckboxLabelClickHandler),s.addEventListener("keydown",multiCheckboxLabelKeyDownHandler),s.innerText=e.label[pageLang];const o=document.createElement("div");o.classList.add("gx-multi-checkbox"),r.forEach((e=>{const l=e.value;"category"===t&&membershipCategories.push({id:l,label:e.label[pageLang]});let r=!0;if(gxFilterData.conf.hideEmptyCats&&(catFoundIndex=allArticlesUniqueCats.findIndex((e=>e===l)),-1!==catFoundIndex?allArticlesUniqueCats.splice(catFoundIndex,1):r=!1),r){const t=document.createElement("input");t.setAttribute("type","checkbox"),t.setAttribute("id",l),disableElement(t),t.addEventListener("keydown",checkboxKeyDownHandler),t.addEventListener("click",(e=>{e.stopPropagation()}));const r=e.label[pageLang],s=document.createElement("label");s.setAttribute("for",l),s.addEventListener("click",inputCheckboxLabelClickHandler);const a=document.createElement("span");a.classList.add("span-animation");const n=document.createElement("span");n.classList.add("gx-label","gx-label--description"),n.innerText=r,o.appendChild(t),s.appendChild(a),s.appendChild(n),o.appendChild(s)}})),multiCheckboxes.push(o),l.appendChild(s),l.appendChild(o),rowSelectsEl.appendChild(l)}})),renderClearButton(),renderViewResultsButton(),articlesListEl&&(articlesFooterEl=document.createElement("footer"),articlesFooterEl.classList.add("articles-footer"),articlesListEl.after(articlesFooterEl)),renderShowingPartners(),renderShowMoreButton(),articlesFooterEl&&(footerMessagesSlotEl=document.createElement("p"),footerMessagesSlotEl.classList.add("footer-messages"),footerMessagesIllustrationEl=document.createElement("img"),footerMessagesIllustrationEl.classList.add("footer-messages__illustration"),footerMessagesIllustrationEl.setAttribute("src",gxFilterData.conf.noResultsImgSrc),footerMessagesTitleEl=document.createElement("span"),footerMessagesTitleEl.classList.add("footer-messages__title"),footerMessagesDescriptionEl=document.createElement("span"),footerMessagesDescriptionEl.classList.add("footer-messages__description"),footerMessagesSlotEl.appendChild(footerMessagesIllustrationEl),footerMessagesSlotEl.appendChild(footerMessagesTitleEl),footerMessagesSlotEl.appendChild(footerMessagesDescriptionEl),articlesFooterEl.appendChild(footerMessagesSlotEl)),setSelectedCategories(),renderPills(),filter(),showMore(),allArticles.forEach((e=>{const t=e.querySelectorAll("a");if(t.length>0){e.classList.add("article-container--actionable");const l=t[0].getAttribute("href");e.addEventListener("click",(()=>{window.open(l,"_blank")})),e.addEventListener("keydown",(t=>{"Enter"===t.code&&e.click()})),e.setAttribute("tabindex","0")}t.forEach((e=>{e.removeAttribute("href"),e.removeAttribute("target")}));const l=getArticleCategory(e);if(l){const t=e.querySelector("header"),r=document.createElement("span");r.classList.add("membership-label"),r.innerText=l,t&&t.appendChild(r)}renderCardCategories(e)})),closestSector=filterHeaderEl.closest(".sector"),closestSector.setAttribute("id","closest-sector"),filterHeaderEl&&filterHeaderEl.style.setProperty("--filters-length",gxFilterData.cats.length))};articlesListsArray=document.querySelectorAll("ul.articles"),articlesListEl=articlesListsArray[gxFilterData.conf.listIndex],articlesListEl&&(allArticles=Array.from(articlesListEl.querySelectorAll(":scope > li"))),gxFilterData.cats.length&&allArticles.length>0&&(getAllArticleCats(),cardsPerLoad=gxFilterData.conf.cardsPerLoad,typeSingular=gxFilterData.conf.typeSingular[pageLang],typePlural=gxFilterData.conf.typePlural[pageLang],detectMobile(),footerMessages={noMorePartners:{en:`No more ${typePlural} to display`,es:`No hay más ${typePlural} para mostrar`,pt:`Não há mais ${typePlural} para mostrar`},noMatchFoundTitle:{en:"Sorry, no results found.",es:"Lo siento, no se encontraron resultados.",pt:"Desculpe, não foram encontrados resultados."},noMatchFoundDescription:{en:`Try removing or change your filters to find ${typePlural}.`,es:`Intenta eliminar o cambiar tus filtros para encontrar ${typePlural}.`,pt:`Tente remover ou alterar seus filtros para encontrar ${typePlural}.`}},createCatsMapArray(),hideAllCards(),renderHeader(),horizontalScroll(!0),gxFilterData.cats.forEach((e=>{const t=e.type,l=e.label[pageLang],r=e.cats;if(t&&l&&r.length){const l=document.createElement("div");l.classList.add("gx-multi-checkbox-container");const s=document.createElement("button");s.classList.add("gx-label","gx-label--multi-checkbox"),s.setAttribute("for",t),s.addEventListener("click",multiCheckboxLabelClickHandler),s.addEventListener("keydown",multiCheckboxLabelKeyDownHandler),s.innerText=e.label[pageLang];const o=document.createElement("div");o.classList.add("gx-multi-checkbox"),r.forEach((e=>{const l=e.value;"category"===t&&membershipCategories.push({id:l,label:e.label[pageLang]});let r=!0;if(gxFilterData.conf.hideEmptyCats&&(catFoundIndex=allArticlesUniqueCats.findIndex((e=>e===l)),-1!==catFoundIndex?allArticlesUniqueCats.splice(catFoundIndex,1):r=!1),r){const t=document.createElement("input");t.setAttribute("type","checkbox"),t.setAttribute("id",l),disableElement(t),t.addEventListener("keydown",checkboxKeyDownHandler),t.addEventListener("click",(e=>{e.stopPropagation()}));const r=e.label[pageLang],s=document.createElement("label");s.setAttribute("for",l),s.addEventListener("click",inputCheckboxLabelClickHandler);const a=document.createElement("span");a.classList.add("span-animation");const n=document.createElement("span");n.classList.add("gx-label","gx-label--description"),n.innerText=r,o.appendChild(t),s.appendChild(a),s.appendChild(n),o.appendChild(s)}})),multiCheckboxes.push(o),l.appendChild(s),l.appendChild(o),rowSelectsEl.appendChild(l)}})),renderClearButton(),renderViewResultsButton(),articlesListEl&&(articlesFooterEl=document.createElement("footer"),articlesFooterEl.classList.add("articles-footer"),articlesListEl.after(articlesFooterEl)),renderShowingPartners(),renderShowMoreButton(),articlesFooterEl&&(footerMessagesSlotEl=document.createElement("p"),footerMessagesSlotEl.classList.add("footer-messages"),footerMessagesIllustrationEl=document.createElement("img"),footerMessagesIllustrationEl.classList.add("footer-messages__illustration"),footerMessagesIllustrationEl.setAttribute("src",gxFilterData.conf.noResultsImgSrc),footerMessagesTitleEl=document.createElement("span"),footerMessagesTitleEl.classList.add("footer-messages__title"),footerMessagesDescriptionEl=document.createElement("span"),footerMessagesDescriptionEl.classList.add("footer-messages__description"),footerMessagesSlotEl.appendChild(footerMessagesIllustrationEl),footerMessagesSlotEl.appendChild(footerMessagesTitleEl),footerMessagesSlotEl.appendChild(footerMessagesDescriptionEl),articlesFooterEl.appendChild(footerMessagesSlotEl)),setSelectedCategories(),renderPills(),filter(),showMore(),allArticles.forEach((e=>{const t=e.querySelectorAll("a");if(t.length>0){e.classList.add("article-container--actionable");const l=t[0].getAttribute("href");e.addEventListener("click",(()=>{window.open(l,"_blank")})),e.addEventListener("keydown",(t=>{"Enter"===t.code&&e.click()})),e.setAttribute("tabindex","0")}t.forEach((e=>{e.removeAttribute("href"),e.removeAttribute("target")}));const l=getArticleCategory(e);if(l){const t=e.querySelector("header"),r=document.createElement("span");r.classList.add("membership-label"),r.innerText=l,t&&t.appendChild(r)}renderCardCategories(e)})),closestSector=filterHeaderEl.closest(".sector"),closestSector.setAttribute("id","closest-sector"),filterHeaderEl&&filterHeaderEl.style.setProperty("--filters-length",gxFilterData.cats.length));